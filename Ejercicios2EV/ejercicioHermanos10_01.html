<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Document Object Model</title>

</head>

<body>

    <div id="bloque3">
        <h2>DAM</h2>
        <ul id="lista">
            <li>Sistemas Gestión Empresarial</li>
            <li>Programación Multimedia y Disp. Móviles</li>
            <li>Desarrollo de Interfaces</li>
        </ul>
    </div>

    <div id="bloque10">
        <h2>DAW</h2>
        <ul id="lista">
            <li>DWES</li>
            <li>DWEC</li>
            <li>Despliegue Web</li>
            <li>Diseño Interfaces Web </li>
        </ul>
    </div>

    <div id="texto"></div>

    <script>

        window.addEventListener("load", inicio);

        function inicio() {
            for (let i = 0; i < document.getElementsByTagName("h2").length; i++) {
                document.getElementsByTagName("h2")[i].addEventListener("click", cursar);
            }
        }

        function cursar(e) {
            var h2 = e.target; // Al asignar una funcion a un elemento que se repite, se tiene que diferenciar diciendo 
                               //que se hace solo al que se hace click como objetivo
            var texto = "";
            texto += "Has elegido el Ciclo " + h2.textContent + "<br>"; //Se accede al contenido del target
            var padre = h2.parentElement; //Se mete en una variable al padre
            texto += "La clase está ubicada en el " + padre.id + "<br>"; //Se saca el id del padre
            var modulos = h2.nextElementSibling; //Se busca al primer hijo que se encuentre
            texto += "Hay " + modulos.children.length +" modulos que son:" ; //Se dice la longitud del los hijos del hijo

            /*var hijo = modulos.firstChild;
            while (hijo !=null){
                texto += "<br>" + hijo.textContent ;
                hijo = hijo.nextElementSibling;
            }*/ //PARA QUE EMPIECE POR EL PRIMERO Y VAYA AL SIGUIENTE

            var hijo = modulos.lastChild;
            while (hijo !=null){
                texto += "<br>" + hijo.textContent ;
                hijo = hijo.previousElementSibling;
            } //PARA QUE EMPIECE POR EL ULTIMO Y VAYA AL ANTERIOR

            document.getElementById("texto").innerHTML = texto;
        }
    </script>

</body>

</html>

