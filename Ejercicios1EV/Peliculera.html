<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Ejercicio 1 </title>
</head>
<body>
    <p id="nombre"> NOMBRE: </p>        
    <p id="edad"> EDAD: </p>        
    <p id="pelicula"> PELICULA: </p>        
    <p id="precio"> PRECIO DE LA ENTRADA: </p>        
    <p id="regalos"> PRECIO DE LA ENTRADA: </p>        
    <script>
        /*1. Pide el nombre del cliente. Si el nombre no es un tipo String o es nulo, debe producir un mensaje de error e insistir.*/
            var nombre=prompt("Escribe tu nombre");
            
            while (!isNaN (nombre) || nombre==null){
            nombre=prompt("No es un nombre válido, introduzca de nuevo");
        }
        
        alert(`Bienvenido ${nombre}`);

        /*2. Pide la edad del cliente. Si la edad no es dato numérico o es nulo, debe producir un mensaje de error e insistir.*/
        var edad=parseInt(prompt("Escribe tu edad"));
            while (isNaN (edad) || edad==null){
            edad=parseInt(prompt("No es una edad válida, introduzca de nuevo su edad"));
        }
        
        alert(`Tienes ${edad} años`);

        /*3. Pide escoger el nombre de la película que está en cartelera de un listado que aparece en pantalla 
        ('Spider Man', 'Superman', 'Dragon Ball Super', 'La era del hielo', '18videos').
        Si el cliente escoge una película que no está en la cartelera o es nulo, debe producir un mensaje de error e insistir.*/

        var pelicula = Array("Spider Man", "Superman", "Dragon Ball Super", "La era del hielo", "18videos");
        var lista="";
        for (i=0;i<pelicula.length;i++){
            lista+= "\n" + (i+1) + ".- " + pelicula[i];
            
        }
        var eleccion=parseInt(prompt(`Escoge entre las siguientes peliculas (1-5): ${lista}`));
        
        while (isNaN (eleccion) || eleccion==null || eleccion>5 || eleccion<1){
            eleccion=parseInt(prompt(`Película no válida, escoge entre las siguientes peliculas: ${lista}`));
        }
        peliculaElegida=pelicula[(eleccion-1)];
        alert(`La película elegida es ${peliculaElegida}`);

        /*4. Si la edad del cliente es menor o igual a 17 y la película que escogió es "18videos"
        , deberá mostrarle un mensaje de que no tiene permiso para ver esa película e insistir. Caso contrario, se realizará lo siguiente
        
        5. Si la edad del cliente es menor o igual a 17, tendrá un descuento del 50% y además 
        tendrá de regalo incluido con la entrada: Caramelos y Refresco.
 
        6. Si la edad del cliente es mayor o igual a 18 y menor o igual a 25, 
        no tendrá descuento alguno pero si tendrá de regalo incluido con la entrada: Palomitas, perrito y refresco.
 
        7. Si la edad del cliente es mayor o igual a 26 y menor o igual a 35, tendrá un descuento del 10% y 
        además tendrá de regalo incluido con la entrada: Perrito y refresco.
 
        8. Si la edad del cliente es mayor o igual a 36, tendrá un descuento del 20% y así mismo 
        tendrá de regalo incluido con la entrada: Agua.*/
        var bebidas=["Refresco","Agua"];
        var comidas = ["Palomitas", "Caramelos", "Perrito"];
        var descuento=1;
        var precioEntrada=8.50;
        var regalos = [];

        if (edad >= 0 && edad <= 17) {
        while (peliculaElegida === "18videos") {
        peliculaElegida = prompt("Lo siento, no puedes ver '18videos' debido a tu edad. Elige otra película:");
        }
        descuento = 0.5;
        regalos.push(comidas[1], bebidas[0]);
        } 
        
        else if (edad >= 18 && edad <= 25) {
        regalos.push(comidas[0], comidas[2], bebidas[0]);
        } 

        else if (edad >= 26 && edad <= 35) {
        descuento = 0.1;
        regalos.push(comidas[2], bebidas[0]);
        } 

        else if (edad >= 36) {
        descuento = 0.2;
        regalos.push(bebidas[1]);
        }

        cadenaRegalos="";
        for(i=0;i<regalos.length;i++){
            cadenaRegalos+= regalos[i]+" " ;
        }
        alert(`Nombre: ${nombre} \n Edad: ${edad} \n Pelicula Elegida: ${peliculaElegida} \n Regalos: ${cadenaRegalos} \n Precio entrada sin descuento: ${precioEntrada} \n Precio final de la entrada con descuento: ${precioEntrada*descuento} \n` );
        
        document.getElementById("nombre").innerHTML="Nombre: " + nombre;
        document.getElementById("edad").innerHTML="Edad: " + edad;
        document.getElementById("pelicula").innerHTML="Pelicula: " + peliculaElegida;
        document.getElementById("precio").innerHTML="Precio de la entrada: " + precioEntrada*descuento;
        document.getElementById("regalos").innerHTML="Regalos: " + cadenaRegalos;

            
            

    </script>
</body>
</html>