<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
         //STRUCTURED CLONE
         const user = {
            name: "Otto",
            role: "arquero",
            life: 99,
            features: ["learn", "code", "paint"]
        }

        const fullUser = {
            ...structuredClone(user), //CREA UNA COPIA, POR LO QUE SI SE CREA UN NUEVO OBJETO SEPARADOS EN LA MEMORIA 
            //POR TANTO, SI SE HACE LO DEL CODIGO ANTERIOR, SE CAMBIA SOLO EN FULLUSER2
            power:25, 
            life:50
        }
        console.log("FEATURES DE USER ANTES DE CAMBIO: "+ user.features);
        console.log("FEATURES DE FULLUSER ANTES DE CAMBIO: " + fullUser.features);

        fullUser.features[0]="program";

         // las propiedades primitivas se copian por valor, 
        //pero las propiedades que son objetos se mantienen por referencia. AMBOS OBJETOS APUNTAN A LA MISMA DIRECCION DE 
        //MEMORIA, POR ESO AL CAMBIAR EL ARRAY Y SIGUEN APUNTANDO AL MISMO LUGAR, CAMBIA EN AMBOS
        console.log( "FEATURES DE USER DESPUES DE CAMBIO: " + user.features);
        console.log( "FEATURES DE FULLUSER DESPUES DE CAMBIO: " + fullUser.features);

        
    </script>
</body>
</html>